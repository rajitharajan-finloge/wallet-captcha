<!-- <!DOCTYPE html>
<html>
<head>
  <title>Captcha Page</title>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>
  <button
    class="g-recaptcha"
    data-sitekey="6Leq6RcrAAAAAHGzoYZc8fR6Bv-K8cE-f9SPYofX"
    data-callback="onCaptchaSuccess"
    data-size="normal">
    Verify
  </button>

  <script>
    function onCaptchaSuccess(token) {
      // Send token back to extension
      window.opener.postMessage({ type: "captcha-token", token: token }, "*");
      window.close(); // close the popup window
    }

    window.onload = function () {
      document.querySelector(".g-recaptcha").click(); // trigger on load
    };
  </script>
</body>
</html> -->



<!--<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Turnstile CAPTCHA</title>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
  </head>
  <body> -->
    <!--<div id="captcha-container"></div>-->
   <!-- <div class="cf-turnstile"
       data-sitekey="your-site-key"
       data-theme="light"
       data-callback="onCaptchaSuccess"
       data-execution="execute">
    </div>

<button onclick="turnstile.execute()">Verify</button>


    <script>
      window.onload = function () {
        turnstile.render("#captcha-container", {
          sitekey: "0x4AAAAAABL7DK50ez_VsJZM",
          callback: function (token) {
            console.log("Token:", token);
            parent.postMessage({ captchaToken: token }, "*");
          },
        });
      };
    </script>
  </body>
</html>-->
<!--
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Turnstile CAPTCHA</title>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadCallback" async defer></script>
  </head>
  <body>
    <div id="captcha-container"></div>

    <button id="captcha-button">Verify</button>

    <script>
      let widgetId = null;

      function onloadCallback() {
        widgetId = turnstile.render("#captcha-container", {
          sitekey: "0x4AAAAAABL7DK50ez_VsJZM", // ✅ Your site key
          theme: "light",
          execution: "execute", // Required to allow programmatic execution
          callback: function (token) {
            console.log("Token:", token);
            parent.postMessage({ captchaToken: token }, "*"); // Post token to parent
          },
          "error-callback": function () {
            console.error("CAPTCHA failed.");
          },
          "expired-callback": function () {
            console.warn("CAPTCHA expired.");
          }
        });
      }

      document.getElementById("captcha-button").addEventListener("click", function () {
        if (widgetId !== null) {
          turnstile.execute(widgetId);
        }
      });
    </script>
  </body>
</html>-->


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Turnstile CAPTCHA</title>
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadCallback" async defer></script>

  <!-- ✅ Add styles to control overflow and prevent scrollbars -->
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden; /* Prevent any scrollbars */
      height: 100%;
    }

    #captcha-container {
      width: 100%;
      max-width: 300px;
      height: 65px;
      overflow: hidden;
      margin: 50px auto 10px;
    }

    iframe {
      border: none !important;
      overflow: hidden !important;
    }

    button {
      display: block;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <div id="captcha-container"></div>
  <button id="captcha-button">Verify</button>

  <script>
    let widgetId = null;

    function onloadCallback() {
      widgetId = turnstile.render("#captcha-container", {
        sitekey: "0x4AAAAAABL7DK50ez_VsJZM",
        theme: "light",
        execution: "execute",
        callback: function (token) {
          console.log("Token:", token);
          parent.postMessage({ captchaToken: token }, "*");
        },
        "error-callback": function () {
          console.error("CAPTCHA failed.");
        },
        "expired-callback": function () {
          console.warn("CAPTCHA expired.");
        }
      });
    }

    document.getElementById("captcha-button").addEventListener("click", function () {
      if (widgetId !== null) {
        turnstile.execute(widgetId);
      }
    });
  </script>
</body>
</html>
